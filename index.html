<!-- Removido o bloco inteiro do folder -->
<!--
<div class="input-group">
  <label for="folder">Pasta de destino:</label>
  <input type="text" id="folder" placeholder="Clique para escolher a pasta..." readonly onclick="escolherPasta()" />
</div>
-->

<!-- Também remova a função escolherPasta() do script -->

<script>
  function iniciarDownload() {
    const url = document.getElementById('url').value;
    const format = document.getElementById('format').value;

    if (!url) {
      alert("Preencha todos os campos!");
      return;
    }

    document.getElementById('progressBar').style.display = 'block';
    document.getElementById('progressFill').style.width = '0%';

    fetch('/baixar', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ url, format })
    })
    .then(response => response.json())
    .then(data => {
      if (data.status === 'success') {
        document.getElementById('progressFill').style.width = '100%';
        alert('Download concluído! Os arquivos foram salvos na pasta padrão do servidor.');
      } else {
        alert('Erro: ' + data.message);
        document.getElementById('progressBar').style.display = 'none';
      }
    })
    .catch(() => {
      alert('Erro ao conectar ao servidor.');
      document.getElementById('progressBar').style.display = 'none';
    });

    let progress = 0;
    const interval = setInterval(() => {
      progress += 10;
      if (progress <= 90)
        document.getElementById('progressFill').style.width = `${progress}%`;
      else clearInterval(interval);
    }, 400);
  }
</script>
